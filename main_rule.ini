; 应当遵守后面引用前面
; 先定义 custom_proxy_group 再用 ruleset 添加规则

[custom]



; 基础规则 
;
; 这里同时避免朝鲜，有很多网站不给朝鲜使用
custom_proxy_group=自动选择`url-test`(^(?!.*(电信|联通|移动|自建|朝鲜)).*)`http://www.gstatic.com/generate_204`300,,50
custom_proxy_group=国内流量`select`[]DIRECT
custom_proxy_group=国外流量`select`[]自动选择`[]DIRECT


; 地区最快节点
; 
custom_proxy_group=日本最快`url-test`(日本|JP|Japan)`http://www.gstatic.com/generate_204`300,5,100
custom_proxy_group=香港最快`url-test`^(港|HK|Hong Kong)(?!.*自建).*`https://www.moles.top/generate_204`300,5,100


; 自建可靠节点
; 
custom_proxy_group=香港自建`select`^(?=.*香港)(?=.*自建).*`http://www.gstatic.com/generate_204`300,5,100
custom_proxy_group=可靠香港`relay`[]香港最快`[]香港自建


; Google  
;
; 基础的Google类
custom_proxy_group=Google`select`[]日本最快`[]自动选择
ruleset=Google,clash-classic:https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Clash/Google/Google.yaml
; custom_proxy_group=谷歌FCM`select`[]Google`[]国外流量
ruleset=Google,clash-classic:https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Clash/GoogleFCM/GoogleFCM.yaml
; custom_proxy_group=Gemini`select`[]Google`[]日本最快
ruleset=Google,clash-classic:https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Clash/Gemini/Gemini.yaml

; Github 
ruleset=自动选择,https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Clash/GitHub/GitHub.list

; Microsoft
custom_proxy_group=Microsoft`select`[]日本最快`[]国内流量
ruleset=Microsoft,clash-classic:https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Clash/Microsoft/Microsoft.yaml
; copilot
ruleset=Microsoft,clash-classic:https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Clash/Copilot/Copilot.yaml


enable_rule_generator=true
overwrite_original_rules=true

clash_rule_base=https://raw.githubusercontent.com/mole828/MoleRuleSwitcher/main/GeneralClashConfig.yml